<html>
<head>
  <meta charset="utf-8">
  <title>beefing it all the way down to frown town</title>
  <script src="jquery.min.js"></script>
  <script src="imagesloaded.min.js"></script>
  <link rel="stylesheet" href="bootstrap.min.css">
  <link href="favicon.ico" rel="icon" type="image/x-icon" />
  <style>
    html, body {
      height: 100%;
      background-color: #333;
    }

    body {
      display: -ms-flexbox;
      display: flex;
      color: #fff;
      text-shadow: 0 .05rem .1rem rgba(0, 0, 0, .5);
      box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);
    }

    .cover-container {
      max-width: 42em;
    }

    .masthead {
      margin-bottom: 2rem;
    }

    .cover {
      padding: 0 1.5rem;
    }

    #loading {
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      position: fixed;
      display: block;
      text-align: center;
    }

    #loading-img {
      margin-top: 100px;
      width: 5rem;
      height: 5rem;
    }
  </style>
</head>
<body class="text-center">
  <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
      <button class="btn btn-primary" type="button" id="beef">Gaze into the abyss</button>
    </header>

    <div id="loading">
      <div id="loading-img" class="spinner-grow spinner-grow-lg" role="status" aria-hidden="true"></div>
    </div>

    <main role="main" class="inner cover">
      <img id="beefing-it" class="img-fluid rounded" alt="Look at this and/or these idiot(s).">
    </main>

    <footer class="mt-auto">
    </footer>
  </div>

  <script language="javascript" type="text/javascript">
    var images = <%= @images %>;

    function beefIt() {
      var img = images[Math.floor(Math.random() * images.length)];

      $('#beefing-it').imagesLoaded()
        .done(function() {
          $("#beefing-it").css("opacity", 1);
          $("#loading").hide();
        })

      $('#beefing-it').attr('src', 'img/' + img);
    }

    $("#beef").click(function() {
      $("#beefing-it").css("opacity", 0.1);
      $("#loading").show();

      beefIt();
    });

    $(document).ready(function() {
      beefIt();
    });
  </script>
</body>
</html>

<!--
CHANGELOG
* beefed.it v1.0 - virgin crapsite
  * a shitty Rakefile
  * an simple image tag that reloads on page reload
  * no favicon
  * no css at all
  * uses a cdn for jquery
* beefed.it v2.0 - chad WEB 2.0 SERVERLESS LAMBDA MICROSERVICES
  * a button to reload the image, so you don't have to reload the entire page
  * some basic bitch ass css
  * A MUFUKIN FAVICON!!!!
  * a slightly less shitty Rakefile
  * CaChInG FiLeZ iN NgINx
-->
